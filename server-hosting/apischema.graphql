type Status {
    id: String
    status: String
    previousStatus: String
    detail: String
}

input StatusInput {
    id: String!
    status: String
    previousStatus: String
    detail: String
}

type File {
    url: String
}

type Station {
    id: String!
    name: String!
    shortName: String!
    type: String!
    cargoTypes: [String!]
    cargoFlows: [CargoFlow!]
    transporters: [Transporter!]
    isUnload: Boolean!
    x: Float!
    y: Float!
}

type Transporter {
    id: String!
    name: String
    from: String!
    to: String
    otherStops: [String!]
}

type CargoFlow   {
    type: String!
    isUnload: Boolean!
    flowPerMinute: Float
    isExact: Boolean!
}

type Uploader {
    id: String
    cargoTypes: [String!]
    x: Float
    y: Float
}

type Factory {
    id: String!
    type: String!
    percentageProducing: Int!
    x: Float!
    y: Float!
}

type SaveDetails {
    stations: [Station!]
    uploaders: [Uploader!]
    factories: [Factory!]
}

type SaveDetailsBuildInfo {
    fileName: String
    fileDate: String
    parsedDate: String
}

type GameServerProbe {
    success: Boolean!
    error: String
    serverState: String
    serverVersion: Int
    serverName: String
}

type Mutation {
    start : Status
    updateStatus(input: StatusInput) : Status
    rebuildSaveDetails : Status
}

type Query {
    status(id: String!): Status
    lastSave: File
    lastLog: File
    saveDetails: SaveDetails
    saveDetailsBuildInfo: SaveDetailsBuildInfo
    gameServerProbe(host: String, port: Int): GameServerProbe
}

type Subscription {
    statusChanged: Status @aws_subscribe(mutations: ["updateStatus"])
}